<!DOCTYPE html>
<html>
  <head>
    <title>Installing MongoDB (COMEM+ Web Dev)</title>
    <meta charset='utf-8'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/unsemantic/1.1.3/unsemantic-grid-responsive.min.css'>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400i,700i);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400i);

      body {
        font-family: 'Droid Serif';
      }

      h1, h2, h3, h4 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }

      h4 {
        font-size: 30px;
        margin: 1em 0;
      }

      h1 strong, h2 strong, h3 strong, h4 strong, h5 strong, h6 strong {
        text-decoration: underline;
      }

      strong em {
        text-decoration: underline;
      }

      center {
        margin: 1em 0;
      }

      .remark-code, .remark-inline-code {
        font-family: 'Ubuntu Mono';
      }

      .remark-inline-code {
        padding: 0 2px;
        background-color: #eee;
        color: indianred;
        border-radius: 3px;
        border: thin solid #dddddd;
      }

      .remark-slide-scaler {
        overflow-y: scroll;
      }

      .container {
        clear: both;
      }

      .gitbashlogo {
        text-align: center;
      }

      .gitbashlogo > img {
        width: 80%;
      }

      ul li {
        margin-top: 0.4em;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      table th, td {
        padding: 0.2em;
      }

      table tbody th, td {
        border-top: 1px solid #c0c0c0;
      }

      pre:first-child {
        margin-top: 0;
      }

      blockquote {
        font-style: italic;
        border-left: 5px solid khaki;
        margin-left: 0;
        padding-left: 35px;
      }
    </style>
  </head>
  <body>
    <textarea id='source'>


# Installing MongoDB

TODO: rewrite mongodb installation instructions

https://www.mongodb.com

After downloading MongoDB, you must follow the installation procedure for your platform:

https://docs.mongodb.com/manual/installation/#tutorials



---
## Test MongoDB on Linux/OS X

As long as you have set up your PATH correctly, you should be able to enter the MongoDB console from your command line, and insert and find some data:

```bash
$> mongo
MongoDB shell version: 3.2.3
connecting to: test
> db.things.insert({ "fruit": "apple" })
WriteResult({ "nInserted" : 1 })
> db.things.insert({ "name": "John Doe", "age": 24 })
WriteResult({ "nInserted" : 1 })
> db.things.find()
{ "_id" : ObjectId("56ca09b5d536b4526d219ba8"), "fruit" : "apple" }
{ "_id" : ObjectId("56ca095ed536b4526d219ba7"), "name" : "John Doe", "age" : 24 }
```



---
## Test MongoDB on Windows

MongoDB looks for a /data/db directory by default. You can create it in Babun with the following command:

```bash
$> mkdir -p /c/data/db
```

To run the MongoDB server, run the following command in Babun (adapt the path if your MongoDB installation is elsewhere):

```bash
$> "/c/Program Files/MongoDB/Server/3.2/bin/mongod.exe"

2016-02-22T07:25:52.998+0100 I CONTROL  [initandlisten] MongoDB starting : pid=203 port=27017 dbpath=/opt/local/var/db/mongodb 64-bit host=Phaeton.local
2016-02-22T07:25:52.999+0100 I CONTROL  [initandlisten] db version v3.0.7
2016-02-22T07:25:52.999+0100 I CONTROL  [initandlisten] git version: nogitversion
2016-02-22T07:25:52.999+0100 I CONTROL  [initandlisten] build info: Darwin tenten-slave.macports.org 14.5.0 Darwin Kernel Version 14.5.0: Wed Jul 29 02:26:53 PDT 2015; root:xnu-2782.40.9~1/RELEASE_X86_64 x86_64 BOOST_LIB_VERSION=1_49
2016-02-22T07:25:52.999+0100 I CONTROL  [initandlisten] allocator: system
2016-02-22T07:25:52.999+0100 I CONTROL  [initandlisten] options: { storage: { dbPath: "/opt/local/var/db/mongodb" }, systemLog: { destination: "file", logAppend: true, path: "/opt/local/var/log/mongodb/mongodb.log" } }
2016-02-22T07:25:57.514+0100 I NETWORK  [initandlisten] waiting for connections on port 27017
```

If you see Waiting for connections on port 27017, it means your MongoDB server is running. It will keep running until you hit Ctrl-C to stop it.

To run a MongoDB client, you must use the Windows command line and not Babun, as there are interaction bugs with Babun:

```bash
$> "C:\Program Files\MongoDB\Server\3.2\bin\mongo.exe"
MongoDB shell version: 3.2.3
connecting to: test
> db.things.insert({ "fruit": "apple" })
WriteResult({ "nInserted" : 1 })
> db.things.insert({ "name": "John Doe", "age": 24 })
WriteResult({ "nInserted" : 1 })
> db.things.find()
{ "_id" : ObjectId("56ca09b5d536b4526d219ba8"), "fruit" : "apple" }
{ "_id" : ObjectId("56ca095ed536b4526d219ba7"), "name" : "John Doe", "age" : 24 }
```

    </textarea>
    <script src='https://remarkjs.com/downloads/remark-latest.min.js'></script>
    <script>
      var slideshow = remark.create({
        navigation: {
          scroll: false
        },
        highlightLines: true,
        highlightSpans: true,
        countIncrementalSlides: false
      });
    </script>
  </body>
</html>
